<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首页</title>

    <!--[if lt IE 8]>
    <meta http-equiv="refresh" content="0;ie.html"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <![endif]-->
    <meta http-equiv="X-UA-Compatible" content="IE=100">
    <!--[if lt IE 9]>
    <script src="https://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.js"></script>
    <![endif]-->

    <link rel="shortcut icon" href="favicon.ico">
    <!-- <link rel="stylesheet" href="css/animate.css"> -->
    <!-- <link rel="stylesheet" href="css/style.css"> -->
    <link rel="stylesheet" href="../reportPage/css/bootstrap.min.css">
    <link rel="stylesheet" href="../reportPage/css/font-awesome.css">
    <link rel="stylesheet" href="../reportPage/css/font-awesome.min.css-v=4.4.0.css">
    <link rel="stylesheet" type="text/css" href="../reportPage/css/main.css">
    <!-- ajaxBaseURL -->
    <!--<script src="../base/js/ajaxBaseURL.js"></script>-->

</head>

<body>
<canvas id="canv"></canvas>
  <div class="con clearfix">
    <div class="top">
      <div class="btn-click1">全屏</div>
      <span class="enter1"></span>
      <div class="toptitle">
        <span class="age"></span>
        全国NPS运营概况
      </div>

    </div>
    <div class="concon clearfix">
      <div class="left">
        <div class="contop">
          <div class="title">
            <span>移网</span>
          </div>
          <div class="con">
            <div class="enter2">
              <i class="glyphicon glyphicon-circle-arrow-right"></i>
              <span>详情</span>
            </div>
          </div>
        </div>
        <div class="conbottom">
          <div class="conyw1">
            <h4>1.完成情况</h4>
            <div id="chart1" style="height: 160px;width: 170px;"></div>
            <div class="upval">
              <div class="up1">
                <span class="span1">年度提升</span>
                <span class="span2 ywy"></span>
              </div>

              <div class="up1">
                <span class="span1">年度NPS</span>
                <span class="span2 ywy"></span>
              </div>
              <div class="up1">
                <span class="span1">当季提升</span>
                <span class="span2 ywj"></span>
              </div>

              <div class="up1">
                <span class="span1">当季NPS</span>
                <span class="span2 ywj"></span>
              </div>
            </div>
          </div>
          <div class="conyw2">
            <h4>2.发展趋势</h4>
            <div id="chart2" style="height: 190px;width: 300px;"></div>
            <div class="dec dec1">总结：
              <span class="mmd"></span>移动
              <span class="mmn"></span>分，
              <span class="mtd"></span>电信
              <span class="mtn"></span>分</div>
          </div>
          <div class="conyw3">
            <h4>3.本品评价</h4>
            <div class="btn">
              <div id="btn1">不同用户</div>
              <div id="btn2">2I用户</div>
            </div>
            <div class="con">
              <div id="chart3" style="height: 190px;width: 300px;"></div>
              <div id="chart3r" style="height: 190px;width: 300px;"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="center">
        <div class="centertop">
          <h4>全国NPS情况概览</h4>
          <div class="map">
            <div id="map" style="height: 350px;width: 100%"></div>
          </div>
        </div>
        <div class="centerbottom">
          <div class="rang">
            <div class="title">省份运营排名</div>
            <div style="width:100%;">
              <table class="footable foottable_tab">
                <thead>
                  <tr class="th">
                    <th width="43" align="center">排名</th>
                    <th width="76" align="center">省分</th>
                    <th width="84" align="center">合计完成进度</th>
                    <th width="80" align="center">移网提升值</th>
                    <th width="80" align="center">宽带提升值</th>
                    <th width="58" align="center">区域排名</th>
                  </tr>
                </thead>
              </table>
            </div>
            <div style="width:100%;height:260px;overflow:auto;">
              <table id="Template_listZ" class="footable foottable_tab">
                <tbody id="tplWrapper_TemplateZ">
                </tbody>
              </table>
            </div>

          </div>

        </div>
      </div>
      <div class="right">
        <div class="contop">
          <div class="title">
            <span>宽带</span>
          </div>
          <div class="con">

            <div class="enter3">
              <i class="glyphicon glyphicon-circle-arrow-right"></i>
              <span>详情</span>
            </div>
            <!-- <img src="./img/maichong2.png" alt="" id="maichong2"> -->

          </div>
        </div>
        <div class="conbottom">
          <div class="conkd1">
            <h4>1.完成情况</h4>
            <div id="chart4" style="height: 160px;width: 170px;"></div>
            <div class="upval">
              <div class="up1">
                <span class="span1">年度NPS</span>
                <span class="span2 kdy"></span>
              </div>
              <div class="up1">
                <span class="span1">年度提升</span>
                <span class="span2 kdy"></span>
              </div>
              <div class="up1">
                <span class="span1">当季提升</span>
                <span class="span2 kdj"></span>
              </div>

              <div class="up1">
                <span class="span1">当季NPS</span>
                <span class="span2 kdj"></span>
              </div>
            </div>

          </div>
          <div class="conkd2">
            <h4>2.发展趋势</h4>
            <div id="chart5" style="height: 190px;width: 300px;"></div>
            <div class="dec dec2">总结：
              <span class="mmd"></span>移动
              <span class="mmn"></span>分，
              <span class="mtd"></span>电信
              <span class="mtn"></span>分</div>

          </div>
          <div class="conkd3">
            <h4>3.本品评价</h4>
            <div class="btn">
              <div id="btn3">北方</div>
              <div id="btn4">南方</div>
            </div>
            <div class="con2">
              <div id="chart6" style="height: 190px;width: 300px;"></div>
              <div id="chart6r" style="height: 190px;width: 300px;"></div>
              <div class="dec"></div>
            </div>
          </div>
          <!-- <div class="title">本品评价</div> -->
        </div>
      </div>
    </div>
  </div>



<!--引入jquery-->
<script src="../reportPage/js/jquery-1.9.1.min.js"></script>
<script src="../reportPage/js/bootstrap.min.js?v=3.3.6"></script>
<!-- 全国344个市、区、州对应的数字编号 -->
<!-- <script type="text/javascript" src="js/citymap.js"></script> -->

<!-- ECharts -->
<script src="../reportPage/js/echarts.min.js"></script>
<!-- 主要js文件渲染地图和散点 -->
<script src="../reportPage/js/app.js"></script>
<!-- 模态框linechart -->
<!-- <script src="js/appTwo.js"></script> -->
<!-- 静态linechart -->
<script src="../reportPage/js/appThree.js"></script>
<!-- 获取数据 -->
<!-- <script type="text/javascript" src="js/cp.js"></script> -->
<!-- 拖拽插件 -->
<!-- <script src="js/drag.js"></script> -->
<!-- H+模板的js文件 -->
<!-- <script src="js/content.js"></script> -->
<script src="../reportPage/js/table.js"></script>
<!-- todo 动态背景 -->
<script src="../reportPage/js/bg_canvas.js"></script>


<!--[if lt IE ]>
<script type="text/javascript">
    //IE
    var shell = new ActiveXObject("WScript.Shell");
    shell.SendKeys("{F11}");
</script>
<![endif]-->

<!--全屏显示-->
<script>
    function gettime() {
        var myDate = new Date();
        var year = myDate.getFullYear();
        var month = myDate.getMonth() + 1;
        var date = myDate.getDate();
        var hours = myDate.getHours();
        var minutes = myDate.getMinutes();
        var seconds = myDate.getSeconds();
        if (month < 10) {
            month = "0" + month
        }
        if (date < 10) {
            date = "0" + date
        }
        if (hours < 10) {
            hours = "0" + hours
        }
        if (minutes < 10) {
            minutes = "0" + minutes
        }
        if (seconds < 10) {
            seconds = "0" + seconds
        }
        var str = year + "年" + month + "月" + date + "日" + " " + hours + ":" + minutes + ":" + seconds;
        $(".top .enter1").html(str);
    }
    setInterval("gettime()", 1000)

</script>

<script type="text/javascript" th:inline="javascript">

    var SYS_ID = [[${SYS_ID}]];
    //省份ID
    var SYS_VALUE = [[${SYS_VALUE}]];
    //部门ID
    var DEPT_ID = [[${DEPT_ID}]];
    //部门名称
    var DEPT_NAME = [[${DEPT_NAME}]];
    //省份名称
    var provinceName = [[${provinceName}]];
    localStorage.setItem("SYS_ID",SYS_ID);
    localStorage.setItem("SYS_VALUE",SYS_VALUE);
    localStorage.setItem("DEPT_ID",DEPT_ID);
    localStorage.setItem("DEPT_NAME",DEPT_NAME);
    localStorage.setItem("provinceName",provinceName);
    function locationReload(){
        setTimeout(function(){
            window.location.reload()
        },500);
    }

    function openFullScreen() {


        var docElm = document.documentElement;
        //W3C
        if (docElm.requestFullscreen) {
            docElm.requestFullscreen();
        }
        //FireFox
        else if (docElm.mozRequestFullScreen) {
            docElm.mozRequestFullScreen();
        }
        //Chrome等
        else if (docElm.webkitRequestFullScreen) {
            docElm.webkitRequestFullScreen();
        }
        //IE11
        else if (elem.msRequestFullscreen) {
            elem.msRequestFullscreen();
        }
        //locationReload();
    }

    function exitFullScreen() {
        var docElm = document.documentElement;
        //W3C
        if (docElm.requestFullscreen) {
            docElm.requestFullscreen();
        }
        //FireFox
        else if (docElm.mozRequestFullScreen) {
            docElm.mozRequestFullScreen();
        }
        //Chrome等
        else if (docElm.webkitRequestFullScreen) {
            docElm.webkitRequestFullScreen();
        }
        //IE11
        else if (elem.msRequestFullscreen) {
            elem.msRequestFullscreen();
        }


        if (document.exitFullscreen) {
            document.exitFullscreen();
        }
        else if (document.mozCancelFullScreen) {
            document.mozCancelFullScreen();
        }
        else if (document.webkitCancelFullScreen) {
            document.webkitCancelFullScreen();
        }
        else if (document.msExitFullscreen) {
            document.msExitFullscreen();
        }
        //locationReload()
    }


    $(".btn-click1").click(function (e) {
        $("#main").css({
            "height": "100%",
            "width": "100%"
        });
        var element = document.documentElement;
        if ( !$('body').hasClass("full-screen") ) {
            //if ( !JSON.parse(sessionStorage.getItem("isFull")) ) {
            //console.log("@@@@@@@键入else 判断  sessionStorage.getItem(\"isFull\")")
            $(".btn-click1").html("退出全屏");
            $('body').addClass("full-screen");
            $('#alarm-fullscreen-toggler').addClass("active");


            //todo 刷新当前页面
            sessionStorage.setItem("isFull",true);
            //openFullScreen();
            if (element.requestFullscreen) {
                element.requestFullscreen();
            } else if (element.mozRequestFullScreen) {
                element.mozRequestFullScreen();
            } else if (element.webkitRequestFullscreen) {
                element.webkitRequestFullscreen();
            } else if (element.msRequestFullscreen) {
                element.msRequestFullscreen();
            }
            var w = window.screen.width;
            var h = window.screen.height;
            console.log(w);
            console.log(h);
            if(h>800){
                $("body").css("height",( h + 80 ) + "px" );
            }
            /*setTimeout(function(){
                window.location.reload()
            },500);
            *屏幕物理分辨率的高： window.screen.height
            屏幕物理分辨率的宽： window.screen.width
            屏幕可用工作区高度： window.screen.availHeight

            屏幕可用工作区宽度： window.screen.availWidth
            * */

        }else{
            $('body').removeClass("full-screen");
            $(".btn-click1").html("全屏");
            $('#alarm-fullscreen-toggler').removeClass("active");
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
            } else if (document.webkitCancelFullScreen) {
                document.webkitCancelFullScreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
            //exitFullScreen();
            sessionStorage.setItem("isFull",false);
            console.log("@@@@@@@键入else 判断");
            console.log("@@@@@@@退出全屏");
            //todo 刷新当前页面
            window.location.reload();

        }
    })

    //监听退出全屏事件
    window.onresize = function () {
        if (!checkFull()) {
            $(".btn-click1").html("全屏");
            $(".box").css({
                "top": 0,
                "height": "100%"
            });
        }
    }

    function checkFull() {
        var isFull = document.fullscreenEnabled || window.fullScreen || document.webkitIsFullScreen || document.msFullscreenEnabled ||
            false;
//to fix : false || undefined == undefined
        if (isFull === undefined) isFull = false;
        return isFull;
    }
    //判断全屏
    function isFull() {
        var fullscreenElement =
            document.fullscreenEnabled
            || document.mozFullscreenElement
            || document.webkitFullscreenElement;
        var fullscreenEnabled =
            document.fullscreenEnabled
            || document.mozFullscreenEnabled
            || document.webkitFullscreenEnabled;
        if (fullscreenElement == null)
        {
            return false;
        } else {
            return true;
        }
    }
    $(document).on("ready",function(){
        console.log("%%%%%%%%%%%%%%%%%%%%%%%%%");
        /*$(".btn-click1").html("退出全屏");
        $('body').addClass("full-screen");
        $('#alarm-fullscreen-toggler').addClass("active");
        setTimeout(function(){
            openFullScreen();
        },5000)*/


        console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^");
        if ( JSON.parse(sessionStorage.getItem("isFull")) ) {
            //sessionStorage.setItem("isFull",false);
            //sessionStorage.setItem("isFull",false);
        }else{
            //sessionStorage.setItem("isFull",true);
        }
        /*if( !$('body').hasClass("full-screen")  ){
            console.log("进入全屏判断");
            $(".btn-click1").html("全屏");
            $('body').addClass("full-screen");
            $('#alarm-fullscreen-toggler').addClass("active");
        }else{
            $('body').removeClass("full-screen");
            $(".btn-click1").html("退出全屏");
            $('#alarm-fullscreen-toggler').removeClass("active");

        }*/
    });
    /*$(document).on('keydown', function (e) {
        var e = event || window.event || arguments.callee.caller.arguments[0];
        if (e && e.keyCode == 122) {//捕捉F11键盘动作
            e.preventDefault();  //阻止F11默认动作
            window.location.reload()
        }
    });*/
</script>
</body>

</html>